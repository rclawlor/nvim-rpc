use rmpv::Value;

use crate::api::{{name}};
use crate::value_vec;
use crate::error::Error;


/// The below implementations are autogenerated using the Neovim API
impl {{name}} {
    {{#each functions}}
    /// Since: {{since}}
    pub fn {{name}}(&self{{#each parameters}}, {{this.name}}: {{{this.parameter_type}}}{{/each}}) -> Result<{{#if return_type}}{{{return_type}}}{{else}}(){{/if}}, Error> {
        self.session.call(
            "{{@root.prefix}}{{name}}",
            value_vec!({{#each parameters}}{{this.name}}{{#unless @last}}, {{/unless}}{{/each}})
        )?;

        Ok(())
    }
    {{#unless @last}}

    {{/unless}}
    {{/each}}
}

